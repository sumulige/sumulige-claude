# [项目名称] - AI 协作配置

> 本文件由 AI 自动维护，定义 AI 协作方式和项目规范
> 最后更新：YYYY-MM-DD

---

## 🚀 AI 启动检查清单（每次任务开始前执行）

1. **加载锚点索引**：`.claude/ANCHORS.md` → 快速定位模块
2. **阅读项目范式**：`prompts/project-paradigm.md` → 理解协作方式 ⭐
3. **阅读项目日志**：`.claude/PROJECT_LOG.md` → 了解完整构建历史
4. **加载增量记忆**：`.claude/MEMORY.md` → 获取最新变更
5. **确认当前阶段**：`todo.md` → 了解待办任务

**记忆加载优先级**：
```
ANCHORS.md → project-paradigm.md → PROJECT_LOG.md → MEMORY.md → 具体文件
  (索引)         (协作范式)         (历史)      (变更)      (实现)
```

---

## 📁 受保护目录（不可删除）

以下目录包含核心基础设施，**严禁删除或清理**：

| 目录 | 说明 |
|------|------|
| `prompts/` | Prompt 教学库（包含项目范式）⭐ |
| `.claude/` | AI 自治记忆系统核心 ⭐ |
| `.claude/thinking-routes/` | 思维轨迹系统 ⭐ |
| `.claude/skills/` | 知识库 |
| `.claude/hooks/` | 自动化钩子 |

---

## 项目信息

- **项目名称**：[填写项目名称]
- **技术栈**：[填写技术栈，如 React, TypeScript, Node.js]
- **测试命令**：[如 npm test]
- **构建命令**：[如 npm run build]

---

## 项目愿景

[一句话描述项目的核心价值]

---

## 核心架构

[简要描述项目的核心架构和设计理念]

---

## 代码风格

遵循 **Linus Torvalds** 的编程哲学：

### 1. 消除特殊情况
- 通过优雅的数据结构让边界情况自然消失
- 避免用 if/else 打补丁

### 2. 极简主义
- 函数只做一件事
- 命名直白、精准

### 3. 实用主义
- 解决真实问题，拒绝过度设计

### 质量指标
- 单文件不超过 800 行
- 单目录不超过 8 个文件
- 零循环依赖
- 零代码重复

---

## Communication Guidelines

### 与用户交流规范

当提供多个选项或步骤时，**必须使用序号**方便用户快速回复：

```
请选择下一步：
1. 选项 A
2. 选项 B
3. 选项 C
4. 跳过
```

用户只需回复 `1` `2` `3` 即可，无需打字。

### 适用场景
- 多个选项选择
- 分步骤的引导
- 浏览多个功能/文件
- 需要用户确认的分支

---

## 关键规则

[填写项目特定的关键规则和约束]

---

## 人类确认点

AI 在以下情况必须暂停并请求人类确认：

- 架构设计变更
- 数据模型变更
- 新增外部依赖
- 质量标准定义
- 安全与隐私相关变更

---

## 常用命令

```bash
# 开发
npm run dev

# 测试
npm test

# 构建
npm run build

# 类型检查
npm run check
```

---

## Context Window 管理

> 融合自 everything-claude-code 的最佳实践

### 核心原则

**避免在 context 的最后 20% 进行复杂操作**

### 任务分类

| 高 Context 敏感（避免在末尾） | 低 Context 敏感（任何时候都可以） |
|------------------------------|--------------------------------|
| 大规模重构 | 单文件编辑 |
| 跨多文件功能实现 | 独立工具创建 |
| 复杂交互调试 | 文档更新 |
| | 简单 bug 修复 |

### MCP 管理策略

**关键**：不要同时启用所有 MCP

- 200k context 可能被压缩到 70k（工具定义占用）
- 建议配置 20-30 个 MCP
- 每个项目启用不超过 10 个
- 活跃工具保持在 80 个以下

**禁用不需要的 MCP**：

```json
// .claude/settings.json
{
  "disabledMcpServers": [
    "unused-mcp-1",
    "unused-mcp-2"
  ]
}
```

---

## 强制规则

详见 `.claude/rules/` 目录：

| 规则文件 | 说明 |
|---------|------|
| `security.md` | 安全检查清单（提交前必查） |
| `performance.md` | 模型选择和资源管理 |

---

## 新增 Skills

| Skill | 说明 | 触发时机 |
|-------|------|---------|
| `build-error-resolver` | 构建错误快速修复 | 构建失败、类型错误 |
| `security-reviewer` | 安全漏洞检测 | 处理用户输入、认证、API |

---

## 新增 Commands

| 命令 | 说明 |
|------|------|
| `/build-fix` | 增量修复构建错误 |
| `/test-coverage` | 分析并提升测试覆盖率 |
